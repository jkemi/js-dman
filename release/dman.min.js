/**
 * @license
 * DMan - Javascript dependency manager.
 * Copyright (C) 2011-2016 Jakob Kemi <jakob.kemi@gmail.com>
 * Code licensed under the BSD License, see COPYING.
 */
var DM=function(){function t(){this.fin={},this.pen={},this.tim=null,this.wai=[]}return t.prototype.debug=function(){},t.prototype.onDone=function(t,e,n){for(var i=!0,o=0;i&&o<e.length;o++)this.fin[e[o]]||(i=!1);i?n():(this.wai.push({d:e,c:n}),this.tim||this.chk())},t.prototype.task=function(t,e){this.pen[t]="undefined"==typeof e?null:e},t.prototype.markDone=function(t){t in this.pen?(delete this.pen[t],this.fin[t]=!0,this.chk()):this.fin[t]=!0},t.prototype.onDoneJS=function(t,e,n,i){if(this.fin[t]||null!=i&&i())this.fin[t]=!0;else{var o=this;this.onDone(t,e,function(){if(!(t in o.pen)){o.task(t,i);var e=document.createElement("script");e.src=n,e.type="text/javascript","undefined"!=typeof e.onreadystatechange&&(e.onreadystatechange=function(){("complete"==this.readyState||"loaded"==this.readyState)&&o.markDone(t)}),e.onload=function(){o.markDone(t)},document.getElementsByTagName("head")[0].appendChild(e)}})}},t.prototype.taskCSS=function(t,e){var n=this;this.onDone(t,[],function(){if(!(n.fin[t]||t in n.pen)){n.task(t,null);var i=document.createElement("link");i.href=e,i.type="text/css",i.rel="stylesheet",document.getElementsByTagName("head")[0].appendChild(i),n.markDone(t)}})},t.prototype.chk=function(){var t=!1;for(var e in this.pen)if(null!==this.pen[e]){var n=this.pen[e]();n?(delete this.pen[e],this.fin[e]=!0):t=!0}else t=!0;for(var i,o=[];i=this.wai.pop();){for(var s=!0,h=i.d,a=0;s&&a<h.length;a++){var r=h[a];this.fin[r]||(s=!1)}s?i.c():o.push(i)}for(;i=o.pop();)this.wai.push(i);if(t){if(!this.tim){var p=this;this.tim=setInterval(function(){p.chk()},15)}}else this.tim&&(clearInterval(this.tim),this.tim=null)},t}();